import{S as x,i as q,s as O,k as y,a as V,l as C,m as T,h as _,c as F,n as m,ad as J,b as R,D as H,ae as ce,M as B,a8 as p,R as se,I as N,J as U,K as W,N as fe,q as ue,y as ae,r as he,z as oe,A as re,g as K,d as P,B as ie,o as de,W as me,X as _e,Y as ge}from"../chunks/index.638dec40.js";import{s as be}from"../chunks/supabaseClient.180e0253.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.4bfc3f4c.js";import{a as Y}from"../chunks/index.7f3c2748.js";function ve(n){const e=["ArrowRight","ArrowUp","ArrowLeft","ArrowDown","Home","End"],t=l=>{if(e.includes(l.code))switch(l.preventDefault(),l.code){case"ArrowUp":M(n,0,-1);break;case"ArrowDown":M(n,0,1);break;case"ArrowLeft":M(n,-1,0);break;case"ArrowRight":M(n,1,0);break;case"Home":j(n,"first");break;case"End":j(n,"last");break}};return n.addEventListener("keydown",t),{destroy(){n.removeEventListener("keydown",t)}}}function M(n,e,t){const l=document.activeElement;if(!l||!l.parentElement||!l.parentElement.ariaRowIndex||!l.ariaColIndex)return;const a=parseInt(l.parentElement.ariaRowIndex),r=parseInt(l.ariaColIndex),o=n.querySelector(`[aria-rowindex="${a+t}"]`);if(o!==null){const c=o.querySelector(`[aria-colindex="${r+e}"]`);c!==null&&c.focus()}}function Ee(n){const e=document.activeElement;if(!e||!e.parentElement||!e.parentElement.ariaRowIndex)return null;const t=parseInt(e.parentElement.ariaRowIndex);return n.querySelector(`[aria-rowindex="${t}"]`)}function j(n,e="first"){const t=Ee(n);if(t===null)return;const l=t.children.length,a=e==="first"?1:l,r=t.querySelector(`[aria-colindex="${a}"]`);r!==null&&r.focus()}function ke(n,e){return n.map(t=>{const l={};return e.forEach(a=>l[a]=t[a]),l})}function ye(n){return n.map(e=>Object.values(e))}function z(n,e){return ye(ke(n,e))}function G(n,e,t){const l=n.slice();return l[19]=e[t],l}function X(n,e,t){const l=n.slice();return l[22]=e[t],l[24]=t,l}function Q(n,e,t){const l=n.slice();return l[19]=e[t],l[26]=t,l}function Z(n,e,t){const l=n.slice();return l[27]=e[t],l}function $(n){let e,t=n[27]+"";return{c(){e=y("th"),this.h()},l(l){e=C(l,"TH",{class:!0});var a=T(e);a.forEach(_),this.h()},h(){m(e,"class",n[3])},m(l,a){R(l,e,a),e.innerHTML=t},p(l,a){a&1&&t!==(t=l[27]+"")&&(e.innerHTML=t),a&8&&m(e,"class",l[3])},d(l){l&&_(e)}}}function ee(n){let e,t=(n[19]?n[19]:"-")+"";return{c(){e=y("td"),this.h()},l(l){e=C(l,"TD",{class:!0,role:!0,"aria-colindex":!0,tabindex:!0});var a=T(e);a.forEach(_),this.h()},h(){m(e,"class",n[5]),m(e,"role","gridcell"),m(e,"aria-colindex",n[26]+1),m(e,"tabindex",n[26]===0?0:-1)},m(l,a){R(l,e,a),e.innerHTML=t},p(l,a){a&1&&t!==(t=(l[19]?l[19]:"-")+"")&&(e.innerHTML=t),a&32&&m(e,"class",l[5])},d(l){l&&_(e)}}}function te(n){let e,t,l,a,r=n[22],o=[];for(let s=0;s<r.length;s+=1)o[s]=ee(Q(n,r,s));function c(...s){return n[15](n[24],...s)}function h(...s){return n[16](n[24],...s)}return{c(){e=y("tr");for(let s=0;s<o.length;s+=1)o[s].c();t=V(),this.h()},l(s){e=C(s,"TR",{"aria-rowindex":!0});var E=T(e);for(let d=0;d<o.length;d+=1)o[d].l(E);t=F(E),E.forEach(_),this.h()},h(){m(e,"aria-rowindex",n[24]+1)},m(s,E){R(s,e,E);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);H(e,t),l||(a=[W(e,"click",c),W(e,"keydown",h)],l=!0)},p(s,E){if(n=s,E&33){r=n[22];let d;for(d=0;d<r.length;d+=1){const A=Q(n,r,d);o[d]?o[d].p(A,E):(o[d]=ee(A),o[d].c(),o[d].m(e,t))}for(;d<o.length;d+=1)o[d].d(1);o.length=r.length}},d(s){s&&_(e),p(o,s),l=!1,fe(a)}}}function le(n){let e,t,l,a=n[0].foot,r=[];for(let o=0;o<a.length;o+=1)r[o]=ne(G(n,a,o));return{c(){e=y("tfoot"),t=y("tr");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=C(o,"TFOOT",{class:!0});var c=T(e);t=C(c,"TR",{});var h=T(t);for(let s=0;s<r.length;s+=1)r[s].l(h);h.forEach(_),c.forEach(_),this.h()},h(){m(e,"class",l="table-foot "+n[6])},m(o,c){R(o,e,c),H(e,t);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(t,null)},p(o,c){if(c&129){a=o[0].foot;let h;for(h=0;h<a.length;h+=1){const s=G(o,a,h);r[h]?r[h].p(s,c):(r[h]=ne(s),r[h].c(),r[h].m(t,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=a.length}c&64&&l!==(l="table-foot "+o[6])&&m(e,"class",l)},d(o){o&&_(e),p(r,o)}}}function ne(n){let e,t=n[19]+"";return{c(){e=y("td"),this.h()},l(l){e=C(l,"TD",{class:!0});var a=T(e);a.forEach(_),this.h()},h(){m(e,"class",n[7])},m(l,a){R(l,e,a),e.innerHTML=t},p(l,a){a&1&&t!==(t=l[19]+"")&&(e.innerHTML=t),a&128&&m(e,"class",l[7])},d(l){l&&_(e)}}}function Ce(n){let e,t,l,a,r,o,c,h,s,E,d,A,D=n[0].head,g=[];for(let u=0;u<D.length;u+=1)g[u]=$(Z(n,D,u));let I=n[0].body,b=[];for(let u=0;u<I.length;u+=1)b[u]=te(X(n,I,u));let v=n[0].foot&&le(n);return{c(){e=y("div"),t=y("table"),l=y("thead"),a=y("tr");for(let u=0;u<g.length;u+=1)g[u].c();o=V(),c=y("tbody");for(let u=0;u<b.length;u+=1)b[u].c();s=V(),v&&v.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var k=T(e);t=C(k,"TABLE",{class:!0,role:!0});var i=T(t);l=C(i,"THEAD",{class:!0});var f=T(l);a=C(f,"TR",{});var w=T(a);for(let L=0;L<g.length;L+=1)g[L].l(w);w.forEach(_),f.forEach(_),o=F(i),c=C(i,"TBODY",{class:!0});var S=T(c);for(let L=0;L<b.length;L+=1)b[L].l(S);S.forEach(_),s=F(i),v&&v.l(i),i.forEach(_),k.forEach(_),this.h()},h(){m(l,"class",r="table-head "+n[2]),m(c,"class",h="table-body "+n[4]),m(t,"class",n[8]),m(t,"role","grid"),J(t,"table-interactive",n[1]),m(e,"class",E="table-container "+n[9])},m(u,k){R(u,e,k),H(e,t),H(t,l),H(l,a);for(let i=0;i<g.length;i+=1)g[i]&&g[i].m(a,null);H(t,o),H(t,c);for(let i=0;i<b.length;i+=1)b[i]&&b[i].m(c,null);H(t,s),v&&v.m(t,null),d||(A=ce(ve.call(null,t)),d=!0)},p(u,[k]){if(k&9){D=u[0].head;let i;for(i=0;i<D.length;i+=1){const f=Z(u,D,i);g[i]?g[i].p(f,k):(g[i]=$(f),g[i].c(),g[i].m(a,null))}for(;i<g.length;i+=1)g[i].d(1);g.length=D.length}if(k&4&&r!==(r="table-head "+u[2])&&m(l,"class",r),k&3105){I=u[0].body;let i;for(i=0;i<I.length;i+=1){const f=X(u,I,i);b[i]?b[i].p(f,k):(b[i]=te(f),b[i].c(),b[i].m(c,null))}for(;i<b.length;i+=1)b[i].d(1);b.length=I.length}k&16&&h!==(h="table-body "+u[4])&&m(c,"class",h),u[0].foot?v?v.p(u,k):(v=le(u),v.c(),v.m(t,null)):v&&(v.d(1),v=null),k&256&&m(t,"class",u[8]),k&258&&J(t,"table-interactive",u[1]),k&512&&E!==(E="table-container "+u[9])&&m(e,"class",E)},i:B,o:B,d(u){u&&_(e),p(g,u),p(b,u),v&&v.d(),d=!1,A()}}}function Te(n,e,t){let l,a;const r=se();let{source:o}=e,{interactive:c=!1}=e,{element:h="table"}=e,{text:s=""}=e,{color:E=""}=e,{regionHead:d=""}=e,{regionHeadCell:A=""}=e,{regionBody:D=""}=e,{regionCell:g=""}=e,{regionFoot:I=""}=e,{regionFootCell:b=""}=e;function v(f,w){if(!c)return;f.preventDefault(),f.stopPropagation();const S=o.meta?o.meta[w]:o.body[w];r("selected",S)}function u(f,w){["Enter","Space"].includes(f.code)&&v(f,w)}const k=(f,w)=>{v(w,f)},i=(f,w)=>{u(w,f)};return n.$$set=f=>{t(18,e=N(N({},e),U(f))),"source"in f&&t(0,o=f.source),"interactive"in f&&t(1,c=f.interactive),"element"in f&&t(12,h=f.element),"text"in f&&t(13,s=f.text),"color"in f&&t(14,E=f.color),"regionHead"in f&&t(2,d=f.regionHead),"regionHeadCell"in f&&t(3,A=f.regionHeadCell),"regionBody"in f&&t(4,D=f.regionBody),"regionCell"in f&&t(5,g=f.regionCell),"regionFoot"in f&&t(6,I=f.regionFoot),"regionFootCell"in f&&t(7,b=f.regionFootCell)},n.$$.update=()=>{t(9,l=`${e.class||""}`),n.$$.dirty&28672&&t(8,a=`${h} ${s} ${E}`)},e=U(e),[o,c,d,A,D,g,I,b,a,l,v,u,h,s,E,k,i]}class we extends x{constructor(e){super(),q(this,e,Te,Ce,O,{source:0,interactive:1,element:12,text:13,color:14,regionHead:2,regionHeadCell:3,regionBody:4,regionCell:5,regionFoot:6,regionFootCell:7})}}function He(n){let e,t,l,a,r,o;return r=new we({props:{source:n[0]}}),{c(){e=y("div"),t=y("h1"),l=ue("Venues"),a=V(),ae(r.$$.fragment),this.h()},l(c){e=C(c,"DIV",{class:!0});var h=T(e);t=C(h,"H1",{class:!0});var s=T(t);l=he(s,"Venues"),s.forEach(_),a=F(h),oe(r.$$.fragment,h),h.forEach(_),this.h()},h(){m(t,"class","text-4xl font-bold mb-4 text-white"),m(e,"class","container mx-auto px-4")},m(c,h){R(c,e,h),H(e,t),H(t,l),H(e,a),re(r,e,null),o=!0},p(c,[h]){const s={};h&1&&(s.source=c[0]),r.$set(s)},i(c){o||(K(r.$$.fragment,c),o=!0)},o(c){P(r.$$.fragment,c),o=!1},d(c){c&&_(e),ie(r)}}}function De(n,e,t){let l={head:[],body:[],meta:[],foot:[]};return de(async()=>{let{data:a,error:r}=await be.from("venues").select("id, profile_id, name, location, contact_person, contact_email, seating_capacity, created_at");r?console.error("Error fetching venues:",r):(a=a.map(o=>(o.created_at=new Date(o.created_at).toLocaleDateString(),o)),t(0,l={head:["Venue Name","Location","Contact Person","Contact Email","Seating Capacity","Created At"],body:z(a,["name","location","contact_person","contact_email","seating_capacity","created_at"]),meta:z(a,["id","profile_id","name","location","contact_person","contact_email","seating_capacity","created_at"]),foot:["Total","","","","",`${a.length}`]}))}),[l]}class Ie extends x{constructor(e){super(),q(this,e,De,He,O,{})}}function Re(n){let e,t,l,a,r;return t=new Ie({}),{c(){e=y("div"),ae(t.$$.fragment)},l(o){e=C(o,"DIV",{});var c=T(e);oe(t.$$.fragment,c),c.forEach(_)},m(o,c){R(o,e,c),re(t,e,null),r=!0},i(o){r||(K(t.$$.fragment,o),me(()=>{r&&(a&&a.end(1),l=_e(e,Y,{duration:500}),l.start())}),r=!0)},o(o){P(t.$$.fragment,o),l&&l.invalidate(),a=ge(e,Y,{duration:500}),r=!1},d(o){o&&_(e),ie(t),o&&a&&a.end()}}}function Ae(n){let e,t,l=Re();return{c(){e=y("div"),l&&l.c(),this.h()},l(a){e=C(a,"DIV",{class:!0});var r=T(e);l&&l.l(r),r.forEach(_),this.h()},h(){m(e,"class","container mx-auto px-4 mt-16 ml-24")},m(a,r){R(a,e,r),l&&l.m(e,null),t=!0},p:B,i(a){t||(K(l),t=!0)},o(a){P(l),t=!1},d(a){a&&_(e),l&&l.d()}}}class Fe extends x{constructor(e){super(),q(this,e,null,Ae,O,{})}}export{Fe as component};
